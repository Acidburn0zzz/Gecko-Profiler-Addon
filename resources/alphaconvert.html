<!DOCTYPE html>
<meta charset="utf-8">
<title>A small piece of JS that converts a grayscale image into an alpha channel (with black in the color channels)</title>

<img id="img" src="grayscale.png">

<svg height="0">
  <defs>
    <filter id="grayscaleToAlpha" color-interpolation-filters="sRGB">
      <feColorMatrix type="luminanceToAlpha" />
    </filter>
  </defs>
<script>

window.onload = () => {
  const img = document.querySelector('img');
  const c = document.createElement('canvas');
  c.width = img.width;
  c.height = img.height;
  const ctx = c.getContext('2d');
  ctx.filter = 'url(#grayscaleToAlpha)';
  ctx.drawImage(img, 0, 0);
  document.body.appendChild(c);
}

</script>
